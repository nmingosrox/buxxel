{% extends 'admin/base.html' %}

{% block head %}
  {{ super() }}
  <!-- Uploadcare widget script -->
  <script src="https://ucarecdn.com/libs/widget/3.x/uploadcare.full.min.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // Put your real Uploadcare public key here
      var publicKey = "YOUR_REAL_PUBLIC_KEY";

      // Find all uploadcare inputs
      var inputs = document.querySelectorAll(".uploadcare-uploader");

      inputs.forEach(function(input) {
        // Inject the real key
        input.setAttribute("data-public-key", publicKey);

        // Initialize the widget explicitly
        uploadcare.Widget(input);
      });
    });
  </script>
{% endblock %}
