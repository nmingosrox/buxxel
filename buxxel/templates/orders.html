{% extends "layout.html" %}
{% block content %}

<div class="container my-5">
  <h1 class="mb-4">My Orders</h1>

  {% if orders %}
    <div class="list-group">
      {% for order in orders %}
      <div class="list-group-item">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <!-- Order ID -->
            <h5 class="mb-1">Order #{{ order.id }}</h5>

            <!-- Date -->
            <p class="mb-1 text-muted">
              Placed on {{ order.created_at.strftime('%Y-%m-%d') }}
            </p>

            <!-- Status -->
            <small>Status: {{ order.status }}</small>
          </div>

          <!-- Total -->
          <span class="fw-bold">{{ order.total_price }} NAD</span>
        </div>

        <!-- Optional: order items -->
        {% if order.items %}
        <ul class="mt-2 small text-muted">
          {% for item in order.items %}
          <li>{{ item.product_name }} × {{ item.quantity }}</li>
          {% endfor %}
        </ul>
        {% endif %}
      </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="alert alert-info">
      You haven’t placed any orders yet.
    </div>
  {% endif %}
</div>

{% endblock %}
